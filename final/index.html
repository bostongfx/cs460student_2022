<html>
	<head>
		<title>Final Project!</title>

		<!-- Import Map Polyfill -->
		<script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>
		<script type="importmap">
			{
				"imports": {
					"three": "https://threejs.org/build/three.module.js",
					"three/addons/": "https://threejs.org/examples/jsm/"
				}
			}
		</script>

		<script type="module">
			import * as THREE from 'three';
      import { GUI } from 'https://unpkg.com/dat.gui@0.7.7/build/dat.gui.module.js';
      import { TrackballControls } from 'https://threejs.org/examples/jsm/controls/TrackballControls.js';
			import { OutlineEffect } from 'three/addons/effects/OutlineEffect.js';

			var scene, camera, renderer, ambientLight, light, pointLight, controls, floor, knot, effect;

			window.onload = function() {
			scene = new THREE.Scene();

			var fov = 60;
			var ratio = window.innerWidth / window.innerHeight;
			var zNear = 1;
			var zFar = 10000;

			camera = new THREE.PerspectiveCamera(fov, ratio, zNear, zFar);
			camera.position.set(0,0,50);

			renderer = new THREE.WebGLRenderer({alpha:true});
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);

			// LIGHTS
			ambientLight = new THREE.AmbientLight();
			scene.add( ambientLight );

			light = new THREE.DirectionalLight('black', 5.0);
			light.position.set(10, 100, 10);
			scene.add(light);

			pointLight = new THREE.PointLight(0xff0000, 1, 100);
			pointLight.position.set(0, 20, 0);
			scene.add(pointLight);

			// GUI CONTROLS
			var gui = new GUI();

			// OUTLINE EFFECT
			effect = new OutlineEffect( renderer, {
				defaultThickness: 0.01,
				defaultColor: [ 1, 0, 1 ],
				defaultAlpha: 0.8,
			} );

			var floorGeometry = new THREE.PlaneGeometry(1000,1000);
			var floorMaterial = new THREE.MeshBasicMaterial({
				map: null,
				side: THREE.DoubleSide,
				color: 'rgb(50,0,125)'
			});
			floor = new THREE.Mesh(floorGeometry, floorMaterial);
			floor.position.y = -100;
			floor.rotateX(-30);
			scene.add(floor);

			var sunGeom = new THREE.SphereGeometry(1200);
			var sunMat = new THREE.MeshStandardMaterial({
				color: 'orange',
			});
			var sun = new THREE.Mesh(sunGeom, sunMat);
			sun.position.z = -5000;
			sun.position.y = -1200;
			scene.add(sun);

			var c = new THREE.TorusKnotGeometry( 10, 3, 100, 16 );
			var cMat = new THREE.MeshToonMaterial({
				color: 'rgb(50, 0, 125)',
			});
			knot = new THREE.Mesh(c, cMat);
			scene.add(knot);

			controls = new TrackballControls( camera, renderer.domElement );

			animate();
			}
			function animate() {
			knot.rotation.x += Math.PI/360;
			knot.rotation.y += Math.PI/360;
			knot.rotation.z += Math.PI/360;

			requestAnimationFrame( animate );

			controls.update();

			// and here...
			effect.render(scene, camera);
			}
		</script>
	</head>
	<body style="background-color: black; margin: 0; padding:0">

	</body>
</html>